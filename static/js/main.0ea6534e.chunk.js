(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(t,e,n){t.exports=n.p+"static/media/art-artistic-background-1851447.75c01ef7.jpg"},102:function(t,e,n){t.exports=n.p+"static/media/background-beautiful-beauty-2033997.2e6af9f8.jpg"},103:function(t,e,n){t.exports=n.p+"static/media/art-beautiful-bloom-1037994.3bc89dfe.jpg"},104:function(t,e,n){t.exports=n.p+"static/media/background-beautiful-bloom-414667.adec247b.jpg"},105:function(t,e,n){t.exports=n.p+"static/media/background-biology-blue-1426718.189cadda.jpg"},106:function(t,e,n){t.exports=n.p+"static/media/blur-bright-color-751374.1ac2b713.jpg"},107:function(t,e,n){t.exports=n.p+"static/media/color-conifer-daylight-1179229.4c22bdfb.jpg"},118:function(t,e,n){t.exports=n(298)},123:function(t,e,n){},124:function(t,e,n){},298:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(93),o=n.n(i),s=(n(123),n(30)),u=n(31),A=n(33),l=n(32),c=n(34),f=(n(124),n(55)),g=n.n(f),h=n(109);function x(t){var e=function(t,e,n){var r=b(t,t.VERTEX_SHADER,e),a=b(t,t.FRAGMENT_SHADER,n),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))return alert("Unable to initialize the shader program: "+t.getProgramInfoLog(i)),null;return i}(t,"\n  attribute vec4 aVertexPosition;\n  attribute vec2 aTextureCoord;\n  attribute vec2 aTintTextureCoord;\n\n  uniform mat4 uModelViewMatrix;\n  uniform mat4 uProjectionMatrix;\n\n  varying highp vec2 vTextureCoord;\n  varying highp vec2 vTintTextureCoord;\n\n  void main(void) {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vTextureCoord = aTextureCoord;\n    vTintTextureCoord = aTintTextureCoord;\n  }\n  ","\n    precision highp float;\n\n    varying highp vec2 vTextureCoord;\n    varying highp vec2 vTintTextureCoord;\n\n    uniform sampler2D uSampler;\n    uniform sampler2D uTintSampler;\n\n    uniform highp vec4 uTintColor;\n    uniform float uBrightness;\n\n    uniform bool uUseTintTexture;\n\n    vec3 rgbToHsl(vec3 rgb) {\n      float maxVal = max(max(rgb.x, rgb.y), rgb.z);\n      float minVal = min(min(rgb.x, rgb.y), rgb.z);\n\n      float L = (maxVal + minVal) / 2.0;\n      float H = 0.0;\n      float S = 0.0;\n\n      if (maxVal != minVal) {\n        float diff = maxVal - minVal;\n        S = L > 0.5 ? (diff / (2.0 - maxVal - minVal)) : (diff / (maxVal + minVal));\n\n        if (maxVal == rgb.x) {\n          H = (rgb.y - rgb.z) / diff + (rgb.y < rgb.z ? 6.0 : 0.0);\n        } else if (maxVal == rgb.y) {\n          H = (rgb.z - rgb.x) / diff + 2.0;\n        } else {\n          H = (rgb.x - rgb.y) / diff + 4.0;\n        }\n\n        H /= 6.0;\n      }\n\n      return vec3(H, S, L);\n    }\n\n    float hueToRgb(float p, float q, float t) {\n      if (t < 0.0) t += 1.0;\n      if (t > 1.0) t -= 1.0;\n\n      if (t < 1.0 / 6.0) return p + (q - p) * 6.0 * t;\n      if (t < 1.0 / 2.0) return q;\n      if (t < 2.0 / 3.0) return p + (q - p) * (2.0 / 3.0 - t) * 6.0;\n\n      return p;\n    }\n\n    vec3 hslToRgb(vec3 hsl) {\n      float R = 0.0;\n      float G = 0.0;\n      float B = 0.0;\n\n      if (abs(hsl.y) < 0.000001) {\n        R = hsl.z;\n        G = hsl.z;\n        B = hsl.z;\n      } else {\n        float Q = hsl.z < 0.5 ? hsl.z * (1.0 + hsl.y) : hsl.z + hsl.y - (hsl.z * hsl.y);\n        float P = 2.0 * hsl.z - Q;\n\n        R = hueToRgb(P, Q, hsl.x + 1.0 / 3.0);\n        G = hueToRgb(P, Q, hsl.x);\n        B = hueToRgb(P, Q, hsl.x - 1.0 / 3.0);\n      }\n\n      return vec3(R, G, B);\n    }\n\n    vec4 adjustBrightness(vec4 color, float brightness) {\n      vec3 hsl = rgbToHsl(vec3(color));\n      hsl.z += (hsl.z * brightness);\n\n      return vec4(hslToRgb(hsl), color.w);\n    }\n\n    void main(void) {\n      gl_FragColor = texture2D(uSampler, vTextureCoord) * \n        adjustBrightness(uUseTintTexture ? texture2D(uTintSampler, vTintTextureCoord) : uTintColor, uBrightness);\n    }\n  ");return{program:e,attribLocations:{vertexPosition:t.getAttribLocation(e,"aVertexPosition"),textureCoord:t.getAttribLocation(e,"aTextureCoord"),tintTextureCoord:t.getAttribLocation(e,"aTintTextureCoord")},uniformLocations:{projectionMatrix:t.getUniformLocation(e,"uProjectionMatrix"),modelViewMatrix:t.getUniformLocation(e,"uModelViewMatrix"),uSampler:t.getUniformLocation(e,"uSampler"),uTintSampler:t.getUniformLocation(e,"uTintSampler"),tintColor:t.getUniformLocation(e,"uTintColor"),brightness:t.getUniformLocation(e,"uBrightness"),useTintTexture:t.getUniformLocation(e,"uUseTintTexture")}}}function T(t,e,n,r){var a=t.createTexture();t.bindTexture(t.TEXTURE_2D,a);var i=t.RGBA,o=t.RGBA,s=t.UNSIGNED_BYTE,u=new Uint8Array([0,0,255,255]);t.texImage2D(t.TEXTURE_2D,0,i,1,1,0,o,s,u);var A=new Image;return A.onload=function(){if(t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,i,o,s,A),m(A.width)&&m(A.height)?t.generateMipmap(t.TEXTURE_2D):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n)),null!=r){var e=A.width/A.height;(function(t,e,n){t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.DYNAMIC_DRAW)})(t,r,e<1?[1,0,0,0,0,e,1,e]:[1/e,0,0,0,0,1,1/e,1])}},A.src=e,a}function m(t){return 0==(t&t-1)}function b(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}var d=n(94),E=n.n(d),R=n(95),p=n.n(R),v=n(96),U=n.n(v),C=n(97),B=n.n(C),S=n(98),_=n.n(S),F=n(127),P=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(A.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).state={},n}return Object(c.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=document.querySelector("#glcanvas").getContext("webgl");t?(this.rafHandle=g()(this.renderGlScene.bind(this,t)),this.programInfo=x(t),this.buffers=function(t){var e=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,-1,1,-1,-1,1,-1]),t.STATIC_DRAW);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,0,1,1,1]),t.STATIC_DRAW);var r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,0,0,0,0,1,1,1]),t.DYNAMIC_DRAW);var a=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,2,3,0]),t.STATIC_DRAW),{position:e,textureCoord:n,tintTextureCoord:r,indices:a}}(t),this.textures=[{texture:T(t,E.a,t.NEAREST),tint:{r:0,g:0,b:0,a:1},tintTexture:null,brightness:0},{texture:T(t,p.a,t.NEAREST),tint:{r:0,g:0,b:0,a:1},tintTexture:null,brightness:0},{texture:T(t,U.a,t.NEAREST),tint:{r:0,g:0,b:0,a:1},tintTexture:null,brightness:-.5},{texture:T(t,B.a,t.NEAREST),tint:{r:0,g:0,b:0,a:1},tintTexture:null,brightness:.5},{texture:T(t,_.a,t.NEAREST),tint:{r:215,g:164,b:166,a:1},tintTexture:null,brightness:0}],this.updateColors(),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)):alert("Unable to initialize WebGL. Your browser or machine may not support it.")}},{key:"componentDidUpdate",value:function(t){this.updateColors(),t.tintTexture!=this.props.tintTexture&&this.updateTexture()}},{key:"updateColors",value:function(){var t=F(this.props.tintColor);this.textures[1].tint=t.object(),this.textures[2].tint=t.object(),this.textures[3].tint=t.object(),this.textures[1].brightness=this.props.normalnessRatio,this.textures[2].brightness=this.props.darknessRatio,this.textures[3].brightness=this.props.brightnessRatio}},{key:"updateTexture",value:function(){var t=this.props.tintTexture;if(null!=t){var e=document.querySelector("#glcanvas").getContext("webgl"),n=T(e,t,e.LINEAR,this.buffers.tintTextureCoord);this.textures[1].tintTexture=n,this.textures[2].tintTexture=n,this.textures[3].tintTexture=n}else this.textures[1].tintTexture=null,this.textures[2].tintTexture=null,this.textures[3].tintTexture=null}},{key:"renderGlScene",value:function(t,e){!function(t){t.clearColor(1,1,1,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(t),this.textures.forEach(function(e,n){!function(t,e,n,r,a,i,o){var s=h.a,u=45*Math.PI/180,A=t.canvas.clientWidth/t.canvas.clientHeight,l=s.create();s.perspective(l,u,A,.1,100);var c=s.create();s.translate(c,c,[-0,0,-6]);var f=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,2,f,!1,0,0),t.enableVertexAttribArray(e.attribLocations.vertexPosition);var g=t.FLOAT;if(t.bindBuffer(t.ARRAY_BUFFER,n.textureCoord),t.vertexAttribPointer(e.attribLocations.textureCoord,2,g,!1,0,0),t.enableVertexAttribArray(e.attribLocations.textureCoord),null!=i){var x=t.FLOAT;t.bindBuffer(t.ARRAY_BUFFER,n.tintTextureCoord),t.vertexAttribPointer(e.attribLocations.tintTextureCoord,2,x,!1,0,0),t.enableVertexAttribArray(e.attribLocations.tintTextureCoord)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indices),t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,l),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,c),t.uniform4f(e.uniformLocations.tintColor,a.r/255,a.g/255,a.b/255,1),t.uniform1f(e.uniformLocations.brightness,o),t.uniform1i(e.uniformLocations.useTintTexture,null!=i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(e.uniformLocations.uSampler,0),null!=i&&(t.activeTexture(t.TEXTURE0+1),t.bindTexture(t.TEXTURE_2D,i),t.uniform1i(e.uniformLocations.uTintSampler,1));var T=t.UNSIGNED_SHORT;t.drawElements(t.TRIANGLES,6,T,0)}(t,this.programInfo,this.buffers,e.texture,e.tint,e.tintTexture,e.brightness)},this),this.rafHandle=g()(this.renderGlScene.bind(this,t,e))}},{key:"render",value:function(){return a.a.createElement("canvas",{id:"glcanvas",width:"640",height:"480"})}}]),e}(r.Component),D=n(99),L=n(35),I=n(100),y=n.n(I),w=(n(297),n(101)),M=n.n(w),V=n(102),N=n.n(V),j=n(103),k=n.n(j),O=n(104),X=n.n(O),Y=n(105),G=n.n(Y),H=n(106),z=n.n(H),Q=n(107),W=n.n(Q),K=[M.a,N.a,k.a,X.a,G.a,z.a,W.a],q=function(t){function e(){var t,n;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(A.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(a)))).state={color:"#60aa3e",image:null,normalness:0,brightness:50,darkness:-50},n}return Object(c.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{classname:"Top"},a.a.createElement("div",{className:"App"},a.a.createElement("div",null,"Junimo Generator ",a.a.createElement("br",null),a.a.createElement(P,{tintColor:this.state.color,tintTexture:this.state.image,normalnessRatio:this.state.normalness/100,brightnessRatio:this.state.brightness/100,darknessRatio:this.state.darkness/100})),a.a.createElement("div",{className:"ImageSettings"},a.a.createElement(D.SketchPicker,{color:this.state.color,onChange:function(e,n){t.setState({color:e.hex,image:null}),console.log(t.state.image)}}),"Main areas: ",this.state.normalness," ",a.a.createElement("br",null),a.a.createElement(L.a,{axis:"x",x:this.state.normalness,xmin:-100,onChange:function(e){var n=e.x;return t.setState({normalness:n})}}),a.a.createElement("br",null),"Bright areas: ",this.state.brightness," ",a.a.createElement("br",null),a.a.createElement(L.a,{axis:"x",x:this.state.brightness,xmin:-100,onChange:function(e){var n=e.x;return t.setState({brightness:n})}}),a.a.createElement("br",null),"Dark areas: ",this.state.darkness," ",a.a.createElement("br",null),a.a.createElement(L.a,{axis:"x",x:this.state.darkness,xmin:-100,onChange:function(e){var n=e.x;return t.setState({darkness:n})}}))),a.a.createElement("div",null,a.a.createElement(y.a,{images:K.map(function(t,e){return{src:t,value:e}}),onPick:function(e){console.log(e.src),t.setState({image:e.src})}})))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},94:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAYUlEQVQoU71R0RIAEAjD//8zetANNRynJ6q11UK4iVzDwlv5lovyiDUa0Bsy9WDjCPJqkk/IxJilhoP0gyB2r06Vtxc7mEo9deUdkHk3qfq6o7LvsHY+ou4V2PRaQAw41gsfUHOyn1VM0AAAAABJRU5ErkJggg=="},95:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAUUlEQVQoU2NgwAP+AwE++UEiR7IzsWnAJsZEFQ/icx66HCPMRmL9xAgEID1kOxVDI8xEZL9jEyPbRqyBCvIvzM+4/A4PHEKBhM25VIlKog0BAJcRK+/8y5Y9AAAAAElFTkSuQmCC"},96:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAO0lEQVQoU2NgGKHgPxDAvI7MRg4OJlwKQBrQNSHzWbAFKiMQjNDAxu5tbMGOL1RRTMEVZyBF+OToEwMAKwUr3zWfEX8AAAAASUVORK5CYII="},97:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAOElEQVQoU2NgGLrgPxTAfIDOx+ozkCJcXkaXYyI3bBjRNeKylREIyLVksOnD5kd8oT3Y3E9N9wAANCEj5MdvO28AAAAASUVORK5CYII="},98:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAHUlEQVQoU2NgGAWjITBwIfAfCtBdgEt84FxKks0Ab5MP8QF5eqMAAAAASUVORK5CYII="}},[[118,1,2]]]);
//# sourceMappingURL=main.0ea6534e.chunk.js.map